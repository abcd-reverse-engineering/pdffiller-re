<UserControl x:Class="pdfFiller.Dialogs.SaveDocument.SaveDocumentDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:pdfFiller.Dialogs.SaveDocument"
             xmlns:prop="clr-namespace:pdfFiller.AttachedProperties"
             xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
             Width="250" Background="White">
  <FrameworkElement.DataContext>
    <local:SaveDocumentDialogViewModel/>
  </FrameworkElement.DataContext>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="auto"/>
    </Grid.RowDefinitions>
    <Button Style="{StaticResource ImageButton}" Background="Transparent" Width="16" BorderBrush="Transparent"
            Command="{x:Static md:DialogHost.CloseDialogCommand}" Height="16" VerticalAlignment="Center"
            Margin="16" HorizontalAlignment="Right"
            prop:ButtonAttachedProperties.ButtonIcon="/pdfFiller;component/Resources/Images/close.png"
            Grid.Column="1"/>
    <ListView Margin="0 10 0 0" ScrollViewer.VerticalScrollBarVisibility="Disabled"
              ScrollViewer.HorizontalScrollBarVisibility="Disabled" BorderBrush="Transparent"
              Background="Transparent" Grid.Row="1" ItemsSource="{Binding Types}"
              SelectedItem="{Binding SelectedType, Mode=TwoWay}">
      <ItemsControl.ItemContainerStyle>
        <Style TargetType="{x:Type ListViewItem}">
          <Setter Property="FrameworkElement.Cursor" Value="Hand"/>
          <Setter Property="Control.Template">
            <Setter.Value>
              <ControlTemplate TargetType="{x:Type ListViewItem}">
                <Border x:Name="Border" Margin="16 2" Padding="8" CornerRadius="3" BorderThickness="2"
                        Background="Transparent" BorderBrush="Transparent">
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="auto"/>
                      <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Image Width="20" Height="20" VerticalAlignment="Center" Source="{Binding Image}"/>
                    <StackPanel Margin="8 0 0 0" Grid.Column="1" Orientation="Vertical">
                      <TextBlock x:Name="Title" Foreground="#888" FontSize="12" TextAlignment="Center" VerticalAlignment="Center"
                                 HorizontalAlignment="Left" FontFamily="{DynamicResource Medium}" Text="{Binding Title}"/>
                      <TextBlock Foreground="#888" FontSize="9" Margin="0 0 2 0" VerticalAlignment="Center"
                                 HorizontalAlignment="Left" FontFamily="{DynamicResource Light}" Text="{Binding Extension}"/>
                    </StackPanel>
                  </Grid>
                </Border>
                <ControlTemplate.Triggers>
                  <Trigger Property="UIElement.IsMouseOver" Value="true">
                    <Setter TargetName="Border" Property="Border.Background" Value="#1aff9900"/>
                  </Trigger>
                  <Trigger Property="ListBoxItem.IsSelected" Value="true">
                    <Setter TargetName="Border" Property="Border.BorderBrush" Value="#ff9900"/>
                    <Setter TargetName="Border" Property="Border.Background" Value="#1aff9900"/>
                    <Setter TargetName="Title" Property="TextBlock.Foreground" Value="#444"/>
                  </Trigger>
                </ControlTemplate.Triggers>
              </ControlTemplate>
            </Setter.Value>
          </Setter>
        </Style>
      </ItemsControl.ItemContainerStyle>
    </ListView>
    <Button Margin="16" Content="{DynamicResource download}" Grid.Row="2" Style="{StaticResource OrangeButton}"
            Command="{Binding DownloadCommand}"/>
  </Grid>
</UserControl>
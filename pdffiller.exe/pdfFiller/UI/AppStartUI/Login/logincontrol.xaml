<UserControl x:Class="pdfFiller.UI.AppStartUI.Login.LoginControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:converter="clr-namespace:pdfFiller.Converters"
             xmlns:local="clr-namespace:pdfFiller.UI.AppStartUI.Login"
             xmlns:prop="clr-namespace:pdfFiller.AttachedProperties"
             xmlns:utils="clr-namespace:pdfFiller.Utils.View"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             Background="#fff">
  <i:Interaction.Triggers>
    <i:EventTrigger EventName="Loaded">
      <i:CallMethodAction MethodName="LoadData" TargetObject="{Binding}"/>
    </i:EventTrigger>
  </i:Interaction.Triggers>
  <FrameworkElement.Resources>
    <converter:CredentialsConverter x:Key="credentialsConverter"/>
    <converter:BooleanVisibilityConverter x:Key="booleanVisibilityConverter"/>
  </FrameworkElement.Resources>
  <FrameworkElement.DataContext>
    <local:LoginViewModel/>
  </FrameworkElement.DataContext>
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="3*"/>
      <RowDefinition Height="50"/>
    </Grid.RowDefinitions>
    <Image Source="/pdfFiller;component/resources/images/bg.png" Grid.Column="0" Grid.Row="0" Stretch="Fill"/>
    <Image Margin="0 10 0 20" Source="/pdfFiller;component/resources/images/logo.png" Grid.Column="0"
           Grid.Row="0" MinWidth="80" MaxWidth="150" Stretch="Uniform"/>
    <StackPanel Orientation="Vertical" Grid.Column="0" Grid.Row="1" HorizontalAlignment="Center"
                VerticalAlignment="Center">
      <TextBlock Text="{StaticResource log_in}" HorizontalAlignment="Left" FontSize="28" Margin="0 0 0 1"
                 FontFamily="{DynamicResource Bold}"/>
      <TextBlock Text="{StaticResource log_in_message}" HorizontalAlignment="Left" FontSize="11" Foreground="#444"
                 TextWrapping="Wrap" Margin="0 8 0 8" FontFamily="{DynamicResource Medium}"/>
      <Grid>
        <TextBox x:Name="Email" Foreground="#222" Tag="{DynamicResource email_hint}"
                 Style="{StaticResource CustomTextBox}" Height="30" Width="auto" Text="{Binding Email, Mode=OneWay}"/>
        <Image Source="/pdfFiller;component/resources/images/email.png" Width="16" Height="14"
               VerticalAlignment="Center" HorizontalAlignment="Left"/>
      </Grid>
      <Grid>
        <PasswordBox PasswordChanged="Password_PasswordChanged" x:Name="Password" Width="auto" Foreground="#222"
                     Height="30" Tag="{DynamicResource pass_hint}" VerticalContentAlignment="Center"
                     Style="{StaticResource PasswordTextBox}">
          <UIElement.InputBindings>
            <KeyBinding Key="Return" Command="{Binding ButtonCommand}">
              <InputBinding.CommandParameter>
                <MultiBinding Converter="{StaticResource credentialsConverter}">
                  <Binding ElementName="Email" Path="Text"/>
                  <Binding ElementName="Password"/>
                </MultiBinding>
              </InputBinding.CommandParameter>
            </KeyBinding>
          </UIElement.InputBindings>
        </PasswordBox>
        <Image Source="/pdfFiller;component/resources/images/lock.png" Width="16" Height="14"
               VerticalAlignment="Center" HorizontalAlignment="Left"/>
      </Grid>
      <Button x:Name="ForgetPassword" FontSize="12" HorizontalAlignment="Right" FontWeight="Medium"
              Foreground="#248df6" Background="Transparent" Cursor="Hand" BorderBrush="Transparent"
              BorderThickness="0" Command="{Binding RouteToForgotPasswordCommand}">
        <TextBlock Text="{DynamicResource forgot_password}" TextDecorations="Underline"
                   FontFamily="{DynamicResource Light}"/>
      </Button>
      <Button x:Name="LogIn" Cursor="Hand" Content="{DynamicResource log_in_button}" Margin=" 0 8"
              Style="{StaticResource OrangeButton}" Command="{Binding ButtonCommand}">
        <ButtonBase.CommandParameter>
          <MultiBinding Converter="{StaticResource credentialsConverter}">
            <Binding ElementName="Email" Path="Text"/>
            <Binding ElementName="Password"/>
          </MultiBinding>
        </ButtonBase.CommandParameter>
      </Button>
      <StackPanel Orientation="Vertical" Width="510">
        <StackPanel Orientation="Horizontal">
          <TextBlock Text="{DynamicResource terms_of_service_p1_login}" FontSize="12" VerticalAlignment="Center"
                     FontFamily="{DynamicResource Thin}"/>
          <Button x:Name="Terms_of_Service" FontSize="12" VerticalAlignment="Center" Foreground="#248df6"
                  Background="Transparent" Cursor="Hand" BorderBrush="Transparent" BorderThickness="0"
                  Command="{Binding TermsOfServiceCommand}">
            <TextBlock Text="{DynamicResource terms_of_service_p2}" TextDecorations="Underline"
                       FontFamily="{DynamicResource Bold}"/>
          </Button>
          <TextBlock Margin="4 0 0 0" Text="{DynamicResource terms_of_service_p3}" FontSize="12"
                     VerticalAlignment="Center" FontFamily="{DynamicResource Thin}"/>
          <Button x:Name="Privacy_Policy" FontSize="12" VerticalAlignment="Center" Foreground="#248df6"
                  Background="Transparent" Cursor="Hand" BorderBrush="Transparent" BorderThickness="0"
                  Command="{Binding PrivacyPolicyCommand}">
            <TextBlock Text="{DynamicResource terms_of_service_p4}" TextDecorations="Underline"
                       FontFamily="{DynamicResource Bold}"/>
          </Button>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
          <TextBlock Text="{DynamicResource terms_of_service_p5}" FontSize="12" VerticalAlignment="Center"
                     FontFamily="{DynamicResource Thin}"/>
        </StackPanel>
      </StackPanel>
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Rectangle Height="1" Stroke="#ddd" Grid.Column="0"/>
        <Label Content="{DynamicResource or_continue_with}" Grid.Column="1" FontSize="10"
               FontFamily="{DynamicResource Medium}" Foreground="#888" Margin="8 0"/>
        <Rectangle Height="1" Stroke="#ddd" Grid.Column="2"/>
      </Grid>
      <Grid Margin="0 8 0 0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid Column="0" ColumnSpan="2">
          <Button x:Name="Facebook" Margin="0,0,4.4,-0.4" Cursor="Hand" Content="Facebook" Foreground="#1878f2"
                  Style="{StaticResource AuthButton}" Height="34" VerticalAlignment="Top"
                  Command="{Binding FacebookAuth}"/>
          <Image HorizontalAlignment="Left" Margin="20 0 0 0"
                 Source="/pdfFiller;component/resources/images/facebook_logo.png" Width="16" Height="16"/>
        </Grid>
      </Grid>
    </StackPanel>
    <WrapPanel Grid.Column="0" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center"
               VerticalAlignment="Bottom" Margin="0 10">
      <TextBlock Text="{DynamicResource login_dont_have_account}" FontSize="18" VerticalAlignment="Center"
                 Foreground="#444444" Margin="0 0 8 0" FontFamily="{DynamicResource Thin}"/>
      <Button x:Name="GetStarted" FontSize="18" VerticalAlignment="Center" FontWeight="Medium"
              Foreground="#248df6" Background="Transparent" Cursor="Hand" BorderBrush="Transparent"
              BorderThickness="0" Command="{Binding RouteToSignUpCommand}">
        <TextBlock Text="{DynamicResource get_started}" TextDecorations="Underline"
                   FontFamily="{DynamicResource Medium}"/>
      </Button>
    </WrapPanel>
    <utils:Loader Grid.RowSpan="3"
                  Visibility="{Binding IsLoading, Converter={StaticResource booleanVisibilityConverter}}"/>
  </Grid>
</UserControl>